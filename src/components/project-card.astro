---
const {
  title,
  description,
  collaborators = "",
  href = "",
  image = "",
  imageAlt = "",
} = Astro.props;
---

<article class="project-card">
  {image && (
    <div class="project-image">
      <img src={image} alt={imageAlt || title} loading="lazy" />
    </div>
  )}
  <h3 class="project-title">{title}</h3>
  <p class="project-description">{description}</p>
  {collaborators && (
    <p class="project-collaborators">
      <strong>Collaborators:</strong> {collaborators}
    </p>
  )}
  {href && (
    <a href={href} class="button project-link">
      Learn more <span class="sr-only">about {title}</span>
    </a>
  )}
</article>

<style>
  .project-card {
    background: var(--white);
    border: 1px solid var(--lightBorder);
    border-radius: var(--card-radius);
    padding: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: 0 2px 4px rgb(14 30 37 / 12%);
    transition: box-shadow 0.2s;
  }
  .project-card:hover {
    box-shadow: 0 4px 12px rgb(14 30 37 / 18%);
  }
  .project-image {
    width: 100%;
    height: 140px;
    overflow: hidden;
    background: var(--light);
  }
  .project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .project-title {
    font-size: 1.15rem;
    margin: 0 0 0.5rem;
    color: var(--heading);
    padding: 0 1.5rem;
  }
  .project-card:has(.project-image) .project-title {
    padding-top: 1rem;
  }
  .project-card:not(:has(.project-image)) .project-title {
    padding-top: 1.5rem;
  }
  .project-description {
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--text);
    margin: 0 0 0.75rem;
    padding: 0 1.5rem;
    flex-grow: 1;
  }
  .project-collaborators {
    font-size: 0.8rem;
    color: var(--text-muted);
    margin: 0 0 1rem;
    padding: 0 1.5rem;
  }
  .project-link {
    font-size: 0.85rem;
    align-self: flex-start;
    margin: 0 1.5rem 1.5rem;
  }
</style>
